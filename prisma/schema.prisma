generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgres"
  url      = env("DATABASE_URL")
}

// CockroachDB connection

// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// generator client {
//   provider = "prisma-client-js"
// }

// datasource db {
//   provider = "cockroachdb"
//   url      = env("DATABASE_URL")
// }

// model Widget {
//   id String @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
// }

model Team {
  id         String         @id @default(uuid())
  teamName   String         @unique
  teamIcon   String
  teamCity   String
  conference String
  division   String
  urlSlug    String
  details    Details?
  schedule   ScheduleGame[]
  roster     Player[]
}

model Details {
  id      String @id @default(uuid())
  rank    String
  wins    String
  losses  String
  ties    String
  coach   String
  stadium String
  team    Team   @relation(fields: [team_id], references: [id])
  team_id String @unique
}

model ScheduleGame {
  id         String @id @default(uuid())
  gameUrl    String
  date       String
  opponent   String // Team relation
  homeOrAway String
  outcome    String
  score      String
  team       Team   @relation(fields: [team_id], references: [id])
  team_id    String
}

model Player {
  id         String  @id @default(uuid())
  statsUrl   String
  headshot   String
  lineup     String?
  name       String
  number     String?
  position   String
  age        String
  height     String
  weight     String
  experience String
  college    String?
  status     String?
  stats      Stat[]
  team       Team    @relation(fields: [team_id], references: [id])
  team_id    String
}

model Stat {
  id        String  @id @default(uuid())
  season    String?
  category  String?
  team      String?
  title     String?
  stat      String?
  player    Player  @relation(fields: [player_id], references: [id])
  player_id String
}
